@(stats : Long)
@import helper._


<!DOCTYPE html>

<html>
    <head>
        <title>Professor Page</title>
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
        <link rel="stylesheet" type="text/css" href="@routes.Assets.at("stylesheets/bootstrap/css/bootstrap.css")">
        <link rel="stylesheet" type="text/css" href="@routes.Assets.at("stylesheets/bootstrap/css/table.css")">

        <script src="@routes.Assets.at("javascripts/jquery-1.9.0.min.js")" type="text/javascript"></script>
        
        
        
       <!-- OLD CHART <script>
                
        var j = 10;
        $(function () {
            $(document).ready(function() {
                Highcharts.setOptions({
                    global: {
                        useUTC: false
                    }
                });
            
                
                var chart;
    
                $('#container').highcharts({
                    chart: {
                        type: 'spline',
                        animation: Highcharts.svg, // don't animate in old IE
                        marginRight: 10,
                        events: {
                            load: function() {
       
                            	var vote;
                                // set up the updating of the chart each second
                                var series = this.series[0];

                                var connection = new WebSocket('ws://localhost:9000', ['soap', 'xmpp']);
                             // When the connection is open, send some data to the server
                                connection.onopen = function (e) {
  									console.log('DEBUG: CONNECTION IS OPENED');
                                };

                                connection.onclose = function (e) {
                                	console.log('DEBUG: CONNECTION IS CLOSED');
                                }
                                
                                // Log errors
                                connection.onerror = function (error) {
                                  console.log('WebSocket Error ' + error);
                                };

                                // Log messages from the server
                                connection.onreceive = function (e) {
                                  console.log('Server: ' + e.data);
                                  connection.send(e.data); 
                                  vote = parseFloat(e.data);
                                };
                                
                                // Log messages from the server
                                connection.onmessage = function (e) {
                                  console.log('Server: ' + e.data);
                                  connection.send(e.data); 
                                  vote = parseFloat(e.data);
                                };
                                
								var y = 0;
                                setInterval(function() {
                                    var x = (new Date()).getTime(); // current time
                                    //var y =	vote;
                                    y = vote;
                                    series.addPoint([x, y], true, true);
                                }, 1000);
                            }
                        }
                    },
                    
                    title: {
                        text: 'Live random data'
                    },
                    xAxis: {
                        type: 'datetime',
                        tickPixelInterval: 150
                    },
                    yAxis: {
                        title: {
                            text: 'Value'
                        },
                        plotLines: [{
                            value: 0,
                            width: 1,
                            color: '#808080'
                        }]
                    },
                    tooltip: {
                        formatter: function() {
                                return '<b>'+ this.series.name +'</b><br/>'+
                                Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', this.x) +'<br/>'+
                                Highcharts.numberFormat(this.y, 2);
                        }
                    },
                    legend: {
                        enabled: false
                    },
                    exporting: {
                        enabled: false
                    },
                    series: [{
                        name: 'Random data',
                        data: (function() {
                            // generate an array of random data
                            var data = [],
                                time = (new Date()).getTime(),
                                i;
            
                            for (i = -19; i <= 0; i++) {
                                data.push({
                                    x: time + i * 1000,
                                    y: Math.random()
                                });
                            }
                            return data;
                        })()
                    }]
                });
            });
            
        });
		</script> -->
		
		<script>
			$(function () {
		        $('#container').highcharts({
		            chart: {
		                type: 'area'
		            },
		            title: {
		                text: 'Speed vote'
		            },
		            xAxis: {
		                title: {
		                    text: 'Time'  
		                },
		                allowDecimals: false,
		                labels: {
		                    formatter: function() {
		                        return this.value; // clean, unformatted number for year
		                    }
		                }
		            },
		            yAxis: {
		                title: {
		                    text: 'Percentage'
		                },
		                labels: {
		                    formatter: function() {
		                        return this.value;
		                    }
		                }
		            },
		            tooltip: {
		                pointFormat: 'At time: {point.x}. Average speed requested: {point.y:,.0f}'
		            },
		            plotOptions: {
		                area: {
		                    pointStart: 0,
		                    marker: {
		                        enabled: false,
		                        symbol: 'circle',
		                        radius: 1,
		                        states: {
		                            hover: {
		                                enabled: true
		                            }
		                        }
		                    }
		                }
		            },
		            series: [{
		                name: 'Speed',
		                data: [40, 50, 60, 80, 30, 40, 50, 60 ]
		            }]
		        });
		    });
		    
    	</script>
    
    	<script>
    	$(function () {
    		
    	    var gaugeOptions = {
    		
    		    chart: {
    		        type: 'solidgauge'
    		    },
    		    
    		    title: null,
    		    
    		    pane: {
    		    	center: ['50%', '85%'],
    		    	size: '140%',
    		        startAngle: -90,
    		        endAngle: 90,
    	            background: {
    	                backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || '#EEE',
    	                innerRadius: '60%',
    	                outerRadius: '100%',
    	                shape: 'arc'
    	            }
    		    },

    		    tooltip: {
    		    	enabled: false
    		    },
    		       
    		    // the value axis
    		    yAxis: {
    				stops: [
    					[0.1, '#55BF3B'], // green
    		        	[0.5, '#DDDF0D'], // yellow
    		        	[0.9, '#DF5353'] // red
    				],
    				lineWidth: 0,
    	            minorTickInterval: null,
    	            tickPixelInterval: 400,
    	            tickWidth: 0,
    		        title: {
    	                y: -70
    		        },
    	            labels: {
    	                y: 16
    	            }        
    		    },
    	        
    	        plotOptions: {
    	            solidgauge: {
    	                dataLabels: {
    	                    y: 5,
    	                    borderWidth: 0,
    	                    useHTML: true
    	                },
    	                states: {
                            hover: {
                                enabled: true
                            }
                        }
    	                
    	            }
    		    
    		    
    	        }
    	    };
    	    
    	    // The speed gauge
    	    $('#container-speed').highcharts(Highcharts.merge(gaugeOptions, {
    	        yAxis: {
    		        min: 0,
    		        max: 100,
    		        title: {
    		            text: 'Pause'
    		        }       
    		    },

    		    credits: {
    		    	enabled: false
    		    },
    		
    		    series: [{
    		        name: 'Pause',
    		        data: [80],
    		        dataLabels: {
    		        	format: '<div style="text-align:center"><span style="font-size:25px;color:' + 
    	                    ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black') + '">{y}</span><br/>' + 
    	                   	'<span style="font-size:12px;color:silver">Pause counts</span></div>'
    		        },
    		        tooltip: {
    		            valueSuffix: 'Number of persons voted for pause'
    		        }
    		    }]
    		
    		}));
    	    
    	    // The RPM gauge
    	    ;
    	                               
    	    // Bring life to the dials
    	    setInterval(function () {
    	    	// Speed
    	        var chart = $('#container-speed').highcharts();
    	        if (chart) {
    	            var point = chart.series[0].points[0],
    	                newVal,
    	                inc = Math.round((Math.random() - 0.5) * 100);
    	            
    	            newVal = point.y + inc;
    	            if (newVal < 0 || newVal > 100) {
    	                newVal = point.y - inc;
    	            }
    	            
    	            point.update(newVal);
    	        }

    	    }, 2000);  
    	    
    		
    	});
    	</script>
		
    </head>
    <body>
	<p>HIGHCHARTS GOES HERE</p>

<table>
	<thead>
	<tr>
		<th>
			<script src="http://code.highcharts.com/highcharts.js"></script>
			<script src="http://code.highcharts.com/modules/exporting.js"></script>
			<div id="container"></div>
		</th>
		<th>
			<script src="http://code.highcharts.com/highcharts.js"></script>
			<script src="http://code.highcharts.com/highcharts-more.js"></script>
			
			<script src="http://code.highcharts.com/modules/solid-gauge.src.js"></script>
			
			<div style="width: 600px; height: 400px; margin: 0 auto">
				<div id="container-speed" style="width: 300px; height: 200px; float: left"></div>
				<div id="container-rpm" style="width: 300px; height: 200px; float: left"></div>
			</div>
		</th>
	</tr>
	</thead>
	<tbody>
	<tr>
		<td>
			<div id="votes">
				<p>VOTE SPEED</p>
					<form action="">
						<input type="radio" name="vote" value="toofast">Too fast<br>
						<input type="radio" name="vote" value="normal">Normal<br>
						<input type="radio" name="vote" value="tooslow">Too slow<br>
						<input type="submit" value="Submit">
					</form>
			</div>
		</td>
		<td>VOTE FORM</td>
	</tr>
	</tbody>
</table>


    </body>
</html>